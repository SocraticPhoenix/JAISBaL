# JAISBaL
(pronounced jace-ball)

JAISBaL is Just Another Intepreted Stack-Based Language, created by me. JAISBaL is meant to be a golfing language for dummies and fanatics alike, and features a verbose and character parsing modes, as well as a minifier and explainer function. The JAISBaL intepreter is written in Java, and this repository contains its source code. The JAISBaL grammar specification is fully developed, though not all instructions are defined.

##This Repository
I open to all contributions! Please open a pull request or issue. However, if you decide to add an instruction, please do the following:

- Specify whether your new instruction is standard, supplementary, constant, auxiliary, or auxiliary constant
- Explain why you believe the instruction best fits the given category
- If it is a pull request, properly define the instruction in the [Instructions](https://github.com/SocraticPhoenix/JAISBaL/blob/master/src/main/java/com/gmail/socraticphoenix/jaisbal/program/instructions/Instructions.java) class and properly register it in the [InstructionRegistry](https://github.com/SocraticPhoenix/JAISBaL/blob/master/src/main/java/com/gmail/socraticphoenix/jaisbal/program/instructions/InstructionRegistry.java) class.
- If it is an issue/comment, either define the full instruction behavior, or provide a code snippet defining an [Instruction](https://github.com/SocraticPhoenix/JAISBaL/blob/master/src/main/java/com/gmail/socraticphoenix/jaisbal/program/instructions/Instruction.java) or [DangerousConsumer<FunctionContext>](https://github.com/SocraticPhoenix/JAISBaL/blob/master/src/main/java/com/gmail/socraticphoenix/jaisbal/util/DangerousConsumer.java)

##The JAISBaL Command Line Tool
A JAISBaL GUI is planned, but currently not implemented.
Arguments for the JAISBaL command line tool are entered in key-value pairs, such as "mode=file" or "action=exec." See the table below for arguments.

| Argument | Acceptable Values | Description | Optional? |
| -------- | ----------- | ---------- | ---------- |
|mode |file, input, gui | defines the input mode for the tool | true (input assumed)|
|content |JAISBaL program | defines the input for mode=input or mode=gui| false (when mode=input)|
|file |Existing File |defines the input for mode=file or mode=gui| false (when mode=file)|
|encoding| utf8, jaisbal| defines the character encoding for file=...| true (jaisbal assumed) |
|target-encoding | utf8, jaisbal | defines the target character encoding for mode=file | true (jaisbal assumed) |
|exec-number| integer | defines the number of times to run the program for action=exec| true (1 assumed) |
|exec-time| iteger | defines the maximum runtime, in milliseconds, of the program for action=exec| true (infinite assumed |
|input | [JLSCArray](https://gist.github.com/SocraticPhoenix/ea6386fb7a610bdbb8bd) | defines the input for the program for action=exec | true |
|input-file | [JLSCCompound](https://gist.github.com/SocraticPhoenix/ea6386fb7a610bdbb8bd) with input array at key "input" | defines the input for the program for action=exec | true |
|action | exec, minify, explain, encode| defines the action the tool should take| false |
###Actions
- exec : executes the program exec-number times, and exits after exec-time milliseconds have passed, or execution is finished
- minify : minifies the given program, and either outputs it to the screen (mode=input) or writes it to the file (mode=file)
- explain : expands and provides a step-by-step explaination for the given program, and either outputs it to the screen (mode=input) or writes it to the file (mode=file)
- encode : reads input as encoding, and writes it to target-encoding. Outputs the result to the screen (mode=input), or writes it to the file and outputs it to the screen (mode=file)

###Download
The JAISBaL command line tool has its entry point in the main [JAISBaL](https://github.com/SocraticPhoenix/JAISBaL/blob/master/src/main/java/com/gmail/socraticphoenix/jaisbal/JAISBaL.java) file, and a compiled version can be found published [here](https://dl.bintray.com/meguy26/Main/com/gmail/socraticphoenix/JAISBaL/)


##Examples
Examples for the language and the command line tool can be found in the [Examples](https://github.com/SocraticPhoenix/JAISBaL/blob/master/EXAMPLES.md) document

##File Format
JAISBaL files have the extention .isbl (interpreted stack based language), and are either in UTF-8 or the JAISBaL character encodings. JAISBaL defines its own character encodings to maximize byte usage, and JAISBaL provides a [java Charset class] (https://github.com/SocraticPhoenix/JAISBaL/blob/master/src/main/java/com/gmail/socraticphoenix/jaisbal/encode/JAISBaLCharset.java) for its encoding.

###JAISBaL Character Encoding Scheme
In this section, the term "character page" means a list of one-to-one character-to-byte mappings. The JAISBaL character set consists of 7 character pages, Page S and pages A-F. Page S is the standard page, and encompasses white space, syntax characters, and all standard JAISBaL instructions. Pages A-D are the suplementary instruction pages, and pages E-F are the constant pages. Pages S maps 250 characters (0 - 249), and the remaining 6 bytes are page bytes. 250 refers to Page A, 251 to page B, 252 to page C, etc. Any character in Page S is encoded as a single byte, as defined by Page S. Any character that is in pages A-F is encoded as two bytes, the first byte being the character's page byte, and the second byte being the byte defined in the appropriate page. The character pages can be [found here](https://github.com/SocraticPhoenix/JAISBaL/tree/master/src/main/resources). Each pages is named, and holds its bytes in order, encoded in UTF-8. The first character in each page is mapped to 0, the second to 1, and so on. Note that Page-S contains some white space characters that may not be apparently visible, including \r, \n, \t and a space.

Disclaimer: The JAISBaL character pages are **in no way** finalized, and as of right now were computer generated. They will likely change to support more commonly used characters in the future

###JAISBaL Instruction Mappings
JAISBaL syntax characters makeup the first 40 codes of Page S. Syntax characters are things that define language behavior, such as number literals, or the value terminator character "}." The remaining 210 codes in Page S are reserved for JAISBaL standard instructions, taking up one byte per character. The 1024 codes in pages A-D are supplementary instructions, taking up two bytes per character. The 512 codes in Pages E-F are constant instructions, taking up two bytes per character. A constant instruction simply pushes a constant value onto the stack, such as Pi. Finally, the standard instructions F and C provide links to auxiliary instructions and auxiliary constants respectivley. There can be a total of 2^31 - 1 auxiliary instructions or constants, however having so many would likely require too much memory. Auxiliary instructions/constants are defined by an index, and vary in byte length depending on the length of said index.

##Syntax
Every JAISBaL file must define its parsing type. If the first character of a file is '#' then verbose parsing is used, otherwise, character parsing is used.
###Basic Syntax
JAISBaL files have the general format
```
# /# Optional verbose specifier #/
(
  /# Function block #/
)
/# Main function #/
```
and comments are enclosed between `\#` and `#\`
###Verbose Parsing
If the parser is set to verbose, instructions will be assumed to be on seperate lines, and **arguments will not be defined by instructions**, instead the argument for an instruction is whatever value is seperated by a space, and directly after the instruction. For example:
```
#
printterm hello world}
printterm hello world
print1 hello world}
```
are all equivilent.
###Character Parsing
If the parser is set to character, each character will be considered an instruction. This is were the difference between printterm and print1 occurs. In character mode, the parser reads the file as a single stream of charaters, instead of splitting it up into lines. Therefore, an instruction must read it's value out of the stream. Print1 reads the next character and prints it, print2 reads the next two characters and prints them, and printterm reads up to the next unescaped "}." This is, of course, signfigant, because the verbose program:
```
#
print1 hello world
```
will behave completley differently from the character program:
```
hhello world /# h is the character id for print1 #/
```
##The Enviroment
JAISBaL is heavily inspired by the JVM, and has both a stack and variable register. Variables are registered at 64-bit indices, and can be stored and loaded on a whim. JAISBaL is technically statically typed, but most instructions attempt to define behavior for all possible operands. Moreover, numbers are represeted as arbitrary precision [BigDecimals](https://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html), and can be converted to and from strings. Finally, JAISBaL handles control flow with function frames. Blocks and functions both create their own function frame, however a block's function frame shares its stack with the parent function frame, whereas functions do not. This has the unfortunate consequence of 'break' affecting if statements as well, but that's a feature, not a bug ;)

##Instruction Reference
Below is the JAISBaL instruction reference. Be warned that it is subject to change.

For the sake of convenience, a is used to refer to the top value of the stack, b is used to refer to the second value on the stack, c is used to refer to the third value on the stack, and so on.
Standard Instructions, 107 defined

|  ID  |  Main Alias       |  All Aliases               |  Explanation                                                                                                    |  Specification                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| ---- | ----------------- | -------------------------- | --------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| p    | pushnum           | pushnum, p                 | push ${arg} onto the stack                                                                                      | Pushes a number onto the stack. This instruction takes one argument, a number, and continues reading the argument until the number literal terminates                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| u    | pushterm          | pushterm, u                | push ${arg} onto the stack                                                                                      | Pushes any value onto the stack. This instruction takes one argument, and continues reading the argument until the '}' terminating character is found. '}' can be escaped or nested in [] to allow it to be used in the value itself                                                                                                                                                                                                                                                                                                                                                                                                |
| h    | push1             | push1, h                   | push ${arg} onto the stack                                                                                      | Pushes the given argument onto the stack. The argument is considered to be the next 1 character(s) after this instruction                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| m    | push2             | push2, m                   | push ${arg} onto the stack                                                                                      | Pushes the given argument onto the stack. The argument is considered to be the next 2 character(s) after this instruction                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| t    | push3             | push3, t                   | push ${arg} onto the stack                                                                                      | Pushes the given argument onto the stack. The argument is considered to be the next 3 character(s) after this instruction                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| e    | push4             | push4, e                   | push ${arg} onto the stack                                                                                      | Pushes the given argument onto the stack. The argument is considered to be the next 4 character(s) after this instruction                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| r    | push5             | push5, r                   | push ${arg} onto the stack                                                                                      | Pushes the given argument onto the stack. The argument is considered to be the next 5 character(s) after this instruction                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| l    | push6             | push6, l                   | push ${arg} onto the stack                                                                                      | Pushes the given argument onto the stack. The argument is considered to be the next 6 character(s) after this instruction                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| o    | printnum          | printnum, o                | print ${arg}                                                                                                    | Pushes a number onto the stack (see pushnum), and then pops and prints the number                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| w    | printterm         | printterm, w               | print ${arg}                                                                                                    | Pushes any value onto the stack (see pushterm), and then pops and prints the value                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| d    | print1            | print1, d                  | print ${arg}                                                                                                    | Pushes the given argument onto the stack, then pops and prints it. The argument is considered to be the next 1 character(s) after this instruction                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| c    | print2            | print2, c                  | print ${arg}                                                                                                    | Pushes the given argument onto the stack, then pops and prints it. The argument is considered to be the next 2 character(s) after this instruction                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| b    | print3            | print3, b                  | print ${arg}                                                                                                    | Pushes the given argument onto the stack, then pops and prints it. The argument is considered to be the next 3 character(s) after this instruction                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| v    | print4            | print4, v                  | print ${arg}                                                                                                    | Pushes the given argument onto the stack, then pops and prints it. The argument is considered to be the next 4 character(s) after this instruction                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| &    | print5            | print5, &                  | print ${arg}                                                                                                    | Pushes the given argument onto the stack, then pops and prints it. The argument is considered to be the next 5 character(s) after this instruction                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| q    | print6            | print6, q                  | print ${arg}                                                                                                    | Pushes the given argument onto the stack, then pops and prints it. The argument is considered to be the next 6 character(s) after this instruction                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| g    | printnumln        | printnumln, g              | print ${arg}                                                                                                    | Pushes a number onto the stack (see pushnum), and then pops and prints the number, followed by a newline                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| x    | printtermln       | printtermln, x             | print ${arg}                                                                                                    | Pushes any value onto the stack (see pushterm), and then pops and prints the value, followed by a newline                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| k    | println1          | println1, k                | print ${arg} followed by a new line                                                                             | Pushes the given argument onto the stack, then pops and prints it, followed by a new line. The argument is considered to be the next 1 character(s) after this instruction                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| y    | println2          | println2, y                | print ${arg} followed by a new line                                                                             | Pushes the given argument onto the stack, then pops and prints it, followed by a new line. The argument is considered to be the next 2 character(s) after this instruction                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| j    | println3          | println3, j                | print ${arg} followed by a new line                                                                             | Pushes the given argument onto the stack, then pops and prints it, followed by a new line. The argument is considered to be the next 3 character(s) after this instruction                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| "    | println4          | println4, "                | print ${arg} followed by a new line                                                                             | Pushes the given argument onto the stack, then pops and prints it, followed by a new line. The argument is considered to be the next 4 character(s) after this instruction                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| '    | println5          | println5, '                | print ${arg} followed by a new line                                                                             | Pushes the given argument onto the stack, then pops and prints it, followed by a new line. The argument is considered to be the next 5 character(s) after this instruction                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| ;    | println6          | println6, ;                | print ${arg} followed by a new line                                                                             | Pushes the given argument onto the stack, then pops and prints it, followed by a new line. The argument is considered to be the next 6 character(s) after this instruction                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| @    | pop               | pop, @                     | pop the top value off the stack                                                                                 | Pops the top value off the stack                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| A    | popall            | popall, A                  | clear the stack                                                                                                 | Pops every value off the stack                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| B    | swap              | swap, B                    | swap the top two values of the stack                                                                            | Pops the top two values off the stack, and then pushes them in reverse order                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| D    | duplicate         | dup, duplicate, D          | duplicate the top value of the stack                                                                            | Pops the top value off the stack, and then pushes it twice                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| E    | duplicateall      | dupall, duplicateall, E    | duplicate the entire stack                                                                                      | Pops the entire stack, and then pushes every value to the stack, twice. For example, if the stack was [1, 2, 3], it would become [1, 2, 3, 1, 2, 3]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| G    | store             | store, G                   | store the top value of the stack into var${arg}                                                                 | Pops the top value off the stack and stores it in the given var. This instruction takes one argument, a number (see pushnum). This instruction is only succesful if the argument is a 64-bit integer                                                                                                                                                                                                                                                                                                                                                                                                                                |
| H    | sstore            | sstore, H                  | store the second value in the stack at var<top value of stack>                                                  | Pops the top two values off the stack, and stores b in var a. This instruction is only successful if a is a 64-bit integer                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| I    | load              | load, I                    | push the value in var${arg} onto the stack                                                                      | Pushes the value in the given var onto the stack. This instruction takes on argument, a number (see pushnum). This instruction is only succesful if the argument is a 64-bit integer                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| J    | sload             | sload, J                   | push the value in var<top value of stack> onto the stack                                                        | Pops the top value off the stack and loads the value in var a onto the stack. This instruction is only succesful if a is a 64-bit integer                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| K    | storeall          | storeall, K                | store entire stack in var0 through var<stack size>                                                              | Pops every value off the stack, and stores it in a var. The first pop is stored in var <size of stack>, and the second is stored in the next var, and so on, until var 0 is reached. This is implemented as such so that a call to storeall, followed by a call to loadall, does not alter the stack                                                                                                                                                                                                                                                                                                                                |
| L    | loadall           | loadall, L                 | load all variables onto the stack                                                                               | Loads every value from vars onto the stack, starting at the lowest var index and continuing to the highest                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| M    | storeloadall      | storeloadall, M            | store all variables on the stack, then load all variables                                                       | Stores all variables and then loads all variables (see loadall and storeall)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| N    | popout            | popout, N                  | pop the top value of a stack and print it                                                                       | Pops the top value off the stack and prints it                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| O    | popoutln          | popoutln, O                | pop the top value off a stack and print it with a new line                                                      | Pops the top value off the stack and prints it, followed by a new line                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| P    | popoutall         | popoutall, P               | pop off every value in the stack and print it                                                                   | Pops every value off the stack, and prints each one                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| Q    | popoutallln       | popoutallln, Q             | pop off every value in the stack and print each one with a new line                                             | Pops every value off the stack, and prints each one on a separate line                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| R    | ln                | ln, R                      | print a new line                                                                                                | Prints a newline                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| S    | pushln            | pushln, S                  | push a new line                                                                                                 | Pushes a newline onto the stack                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| T    | concatln          | concatln, T                | push a new line and concatenate                                                                                 | Pushes a new line and then concatenates the top two values of the stack (see concat)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| U    | space             | space, U                   | print a space                                                                                                   | Prints a space                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| V    | pushspace         | pushspace, V               | push a space                                                                                                    | Pushes a space onto the stack                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| W    | concatspace       | concatspace, W             | push a space and concatenate                                                                                    | Pushes a space and then concatenates the top two values of the stack (see concat)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| X    | tab               | tab, X                     | print a tab                                                                                                     | Prints a tab                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| Y    | pushtab           | pushtab, Y                 | push a tab                                                                                                      | Pushes a tab onto the stack                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| Z    | concattab         | concattab, Z               | push a tab and concatenate                                                                                      | Pushes a tab and then concatenates the top two values of the stack (see concat)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| *    | mul               | *, mul                     | multiply the top two values of the stack                                                                        | Multiplies a and b. If a and b are both numbers, normal multiplication will occur. If either a or b is an array, and the other is a non-array, every value in the array will be multiplied by the other value. If either a or b is a string, and the other is a number, the string will be duplicated <number> times. If both a and b are strings, the number of characters in a which are also in b will be pushed. Finally, if both values are arrays, a new array will be created with the length of the longer array, and every value in the new array will be the result of multiplication of same-indexed values in a and b   |
| /    | div               | /, div                     | divide the top value of the stack by the second value on the stack                                              | Divides a by b. If a and b are both numbers, normal division will occur. If either a or b is an array, and the other is a non-array, every value in the array will be divided by the other value. If a or b is a string, and the other is a number, a and b will both be converted to strings and divided. If a and b are both strings, the number of characters in a which are not in b will be pushed. Finally, if both values are arrays, a new array will be created with the length of the smaller array, and every value in the array will be the result of division of same-indexed values in a and b                        |
| +    | add               | +, add                     | add the top two values of the stack                                                                             | Adds a and b. If a and b are both numbers, normal addition will occur. If either a or b is an array, and the other is a non-array, the other value will be added to every value in the array. If a or b is a string, and the other is a number, a and b will both be converted to strings and added. If a and b are strings, the length of the longest substring of a that is also present in b will be pushed. Finally, if both values are arrays, a new array will be created with a length of the longer array, and every value in the new array will be the result of addition of same-indexed values in a and b                |
| -    | sub               | -, sub                     | subtract the second value on the stack from the top value on the stack                                          | Subtracts b from a. If a and b are both numbers, normal subtraction will occur. If either a or b is an array, and the other is a non-array, the other value will be subtracted from every value in the array. If a or b is a string, and the other is a number, a and b will both be converted to strings and subtracted. If a and b are strings, the number of times b occurs in a will be pushed. Finally, if both values are arrays, a new array will be created with a length of the smaller array, and ever value in the new array will be the result of subtraction of same-indexed values in a and b                         |
| _    | reverse           | reverse, _                 | reverse the top value of the stack                                                                              | Pops the top value off the stack and reverses it. If the a is a number or string, it will be converted to a string and the order of characters will be reversed. If a is an array, the order of elements will be reversed                                                                                                                                                                                                                                                                                                                                                                                                           |
| `` ` ``    | concat            | concat, &+, `` ` ``              | concatenate the top two values of the stack                                                                     | Concatenates a and b. If a and b are both numbers, both strings, or one of each, they will be converted to strings and concatenate using string concatenation. If a or b is an array, and the other is a non array, the non array will be prepended (if a is non-rray) or appended (if b is non array). If both a and b are arrays, list concatenation will be used to join a and b                                                                                                                                                                                                                                                 |
| z    | split             | split, z                   | split the top value of the stack by ${arg}                                                                      | Splits the top value of the stack by the given regex, and pushes the array result. This instruction takes one argument, terminated by '}' (see pushterm). This instruction is only succesful if the top value of the stack is a string or number                                                                                                                                                                                                                                                                                                                                                                                    |
| ^    | pow               | pow, ^                     | raise the top value on the stack to the second value on the stack                                               | Raises a to b. This instruction is only succesful if the top two values of the stack are numbers. Furthermore, accurate results can only be calculated for numbers that fit in 32-bits                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| %    | mod               | mod, %                     | calculate the modulus of the top value on the stack by the second value on the stack                            | Calculates a mod b. This instruction is only succesful if the top two values of the stack are integers                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| {    | floor             | floor, {                   | floor the top value of the stack                                                                                | Calculates floor a. This instruction is only succesful if the top value of the tack is a number                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| |    | ceil              | ceil, |                    | ceil the top value of the stack                                                                                 | Calculates ceil a. This instruction is only succesful if the top value of the tack is a number                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| ~    | round             | round, ~                   | round the top value of the stack                                                                                | Calculates round a (traditional rounding). This instruction is only succesful if the top value of the stack is a number                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
|     | sqrt              | sqrt,                     | compute the square root of the top value on the stack                                                           | Computes the square root of a, and pushes it to the stack. This instruction fails if a is not a number                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
|     | arg               | arg,                      | set the current context arg to ${arg}                                                                           | Sets the current program argument to the one specified. This instruction takes one argument, terminated by '}' (see pushterm)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| C    | const             | C, const                   | load auxiliary constant #${arg}                                                                                 | Pushes the auxiliary constant registered at the specified index onto the stack, This instruction takes on argument, a number (see pushnum)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| F    | aux               | F, aux                     | call auxiliary instruction #${arg}                                                                              | Calls the auxiliary instruction registered at the specified index. This instruction takes one argument, a number (see pushnum)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|     | for               | for,                      | start for loop                                                                                                  | This instruction pops a number of the stack, and executes the for loop body floor a times. This instruction also opens a new function frame. This instructions is only succesful if the top value on the stack is a number                                                                                                                                                                                                                                                                                                                                                                                                          |
|     | end               | end,                      | end current language construct                                                                                  | Ends a loop, if, ifelse, or other statement                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
|     | break             | break,                    | break out of the current function frame                                                                         | Breaks out of the current function frame                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
|     | newarray          | newarray,                 | create and push new array with length ${arg}                                                                    | Creates a new array with the given length. This instruction takes one argument, a number (see pushnum)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
|     | arrayload         | arrayload, aload,         | load a value from an array, using the top value of the stack as an index                                        | Loads a value from array a, from the specified index. This instruction does not pop of the array. This instruction takes one argument, a number (see pushnum). This instruction is only succesful if a is an array, and the argument given is a 32-bit integer that is an index of a                                                                                                                                                                                                                                                                                                                                                |
|     | arraystore        | arraystore, astore,       | store the top of the stack at index ${arg} in an array                                                          | Stores value a in array b, at the specified index. This instruction does not pop of the array. This instruction takes on argument, a number (see pushnum). This instruction is only succesful if b is an array, and the argument given is a 32-bit integer that is an index of b                                                                                                                                                                                                                                                                                                                                                    |
|     | snewarray         | snewarray,                | create and push new array with length <top value of stack>                                                      | Creates a new array with the length a. This instruction fails if a is not a 32-bit integer index                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
|     | sarrayload        | sarrayload, saload,       | load the value at index ${arg} from an array                                                                    | Loads a value from array b, at index a. This instruction does not pop of the array. This instruction is only succesful if b is an array and a is a 32-bit integer that is an index in b                                                                                                                                                                                                                                                                                                                                                                                                                                             |
|     | sarraystore       | sarraystore, sastore,     | store the second value in the stack in an array, using the top value of the stack as an index                   | Stores value b in array c at index a. This instruction does not pop of the array. This instruction is only succesful if c is an array and a is 32-bit integer that is an index in b                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
|     | arraylength       | arraylength, alength,     | push the length of the array onto the stack                                                                     | Pushes the length of array a onto the stack. This instruction does not pop of the array. This instruction fails if a is not an array                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
|     | sort              | sort,                     | pop the top value of the stack, sort it, and push it                                                            | Pops the top value off the stack and sorts it from smallest to largest (see compare). This instruction fails if a is not an array                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
|     | rsort             | rsort,                    | pop the top value of the stack, sort it, reverse it, and push it                                                | Pops the top value off the stack and sorts it from largest to smallest (see compare). This instruction fails if a is not an array                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
|     | true              | true,                     | push a truthy value onto the stack                                                                              | Pushes 1, a truthy value, onto the stack                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
|     | false             | false,                    | push a falsy value onto the stack                                                                               | Pushes 0, a falsy value, onto the stack                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| !    | negate            | !, negate                  | negate the top value of the stack                                                                               | Pops the current value of the stack, if the values is truthy, this instruction pushes a falsy value, otherwise this instruction pushes a truthy value (see if)                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|     | if                | if,                       | if the top value on the stack is truthy, skip the next statement                                                | Pops the top value of the stack. If a is truthy, skip the next statement. If a is a number, it is truthy if it is greater than 0. If a is a string, it is truthy if it equals "true," "t" or "yes." If a is an array, it is truthy if it contains more truthy values than falsy ones                                                                                                                                                                                                                                                                                                                                                |
|     | !if               | !if,                      | if the top value on the stack is falsy, skip the next statement                                                 | Pops the top value of the stack. If a is not truthy, skip the next statement (see if)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
|     | compare           | compare,                  | compare the top value of the stack with the second value on the stack                                           | Compares a and b and pushes a: positive int if a > b, negative int if b < a, and 0 if a = b. If a or b is an array, and the other value is a non-array, the array value will be considered larger. If a and b are both numbers, a mathematical comparison takes place. If both a and b are arrays, the comparison is calculated by initializing a single int variable, and consecutivley comparing each value of the arrays, then the difference between a.length and b.length is added to the variable. If a and b are both strings, lexical comparison takes place                                                                |
| =    | equal             | =, equal                   | skip the next statement if the top two values on the stack are equal                                            | Skips the next instruction if a and b are equal (see compare)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
|     | equalall          | &=, equalall,             | skip the next statement if all values on the stack are equal                                                    | Consecutively pops every value of the stack, checks if it is equal to the previously popped value, and ANDs the boolean result to a single boolean. If the final boolean is true, the next instruction is skipped (see compare)                                                                                                                                                                                                                                                                                                                                                                                                     |
|     | notequal          | !=, notequal,             | skip the next statement if the two top values on the stack are not equal                                        | Skips the next instruction if a and b are not equal (see compare)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
|     | notequalall       | &!=, notequalall,         | skip the next statement if no values on the stack are equal                                                     | Consecutively pops every value of the stack, checks if it is not equal to the previously popped value, and ANDs the boolean result to a single boolean. If the final boolean is true, the next instruction is skipped (see compare)                                                                                                                                                                                                                                                                                                                                                                                                 |
| >    | greater           | >, greater                 | skip the next statement if the top value on the stack is greater than the next value on the stack               | Skips the next instruction if a > b (see compare)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
|     | greaterall        | &>, greaterall,           | skip the next statement if the values on the stack are in smalles to greatest order, with no duplicates         | Consecutively pops every value of the stack, checks if it is > the previously popped value, and ANDs the boolean result to a single boolean. If the final boolean is true, the next instruction is skipped (see compare)                                                                                                                                                                                                                                                                                                                                                                                                            |
| <    | less              | <, less                    | skip the next statement if the top value on the stack is less than the next value on the stack                  | Skips the next instruction if a < b (see compare)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
|     | lessall           | &<, lessall,              | skip the next statement if the values on the stack are in greatest to smallest order, with no duplicates        | Consecutively pops every value of the stack, checks if it is < the previously popped value, and ANDs the boolean result to a single boolean. If the final boolean is true, the next instruction is skipped (see compare)                                                                                                                                                                                                                                                                                                                                                                                                            |
|     | greaterequal      | >=, greaterequal,         | skip the next statement if the top value on the stack is greater than or equal to the next value on the stack   | Skips the next instruction if a >= b (see compare)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
|     | greaterequalall   | &>=, greaterequalall,     | skip the next statement if the values on the stack are in smallest to greatest order                            | Consecutively pops every value of the stack, checks if it is >= the previously popped value, and ANDs the boolean result to a single boolean. If the final boolean is true, the next instruction is skipped (see compare)                                                                                                                                                                                                                                                                                                                                                                                                           |
|     | lessequal         | <=, lessequal,            | skip the next statement if the top value on the stack is less than the next value on the stack                  | Skips the next instruction if a <= b (see compare)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
|     | lessequalall      | &<=, lessequalall,        | skip the next statement if the values on the stack are in greatest to smallest order                            | Consecutively pops every value of the stack, checks if it is <= the previously popped value, and ANDs the boolean result to a single boolean. If the final boolean is true, the next instruction is skipped (see compare)                                                                                                                                                                                                                                                                                                                                                                                                           |
|     | ifblock           | ifblock,                  | if the top value of the stack is truthy, execute the next block                                                 | Pops the top value of the stack. If a is truthy, run the block (see if). This instruction also opens a new function frame                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|     | ifelse            | ifelse,                   | if the top value of the stack is truthy, execute the next block, otherwise, execute the else block              | Pops the top value of the stack. If a is truthy, run the  if block, otherwise run the else block (see if). This instruction also opens a new function frame                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
|     | else              | else,                     | end the truthy section of the ifelse block                                                                      | The end of an ifelse's if block, and the beginning of it's else block                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
|     | superpush         | superpush,                | pop the top value of the stack and push it to the parent stack                                                  | Pops the top value of the stack and pushes it to the parent function frame's stack                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
|     | jump              | jump,                     | jump ${arg} instructions                                                                                        | Jumps the given amount of instructions forward. The argument may be positive or negative, and the jump will likewise be forwards or backwards. This instruction takes one argument, a number (see pushnum). This instruction fails of the argument is not a 32-bit integer                                                                                                                                                                                                                                                                                                                                                          |
|     | indexjump         | indexjump,                | jump to instruction ${arg}                                                                                      | Jumps to the instruction at the given index. This instruction takes one argument, a number (see pushnum). This instruction fails if the argument is not a 32-bit integer                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
|     | triplicate        | tri, triplicate,          | triplicate the top value of the stack                                                                           | Pops the top value off the stack, and then pushes it thrice                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
|     | triplicateall     | triall, triplicateall,    | triplicate the entire stack                                                                                     | Pops the entire stack, and then pushes every value to the stack, thrice. For example, if the stack was [1, 2], it would become [1, 2, 1, 2, 1, 2]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
|     | popsplitpush      | popsplitpush,             | take the top value off the stack, split it up, and push each piece                                              | Pops the top value off the stack, splits it, and pushes each piece onto the stack. If the top value is a string or number, it will be converted to a string, and each character of the string will be pushed. If the top value is an array, the values in the array will be pushed in reverse order                                                                                                                                                                                                                                                                                                                                 |
|     | quine             | quine,                    | load the source code of the program onto the stack                                                              | Pushes the programs source code, as a string, onto the stack                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| f    | call              | f, call                    | call function ${arg}                                                                                            | Calls the given function. This instruction takes one argument, terminated by '}' (see pushterm). This instruction fails if the given argument is not a string, or if no function exists for the given name                                                                                                                                                                                                                                                                                                                                                                                                                          |
|     | name              | name,                     | take the top value off the stack, determines its name, and push it                                              | Determines the name of the top value on the stack. If a is a 32-bit integer, a string representation of it's number name is returned, if a is an array, the name of every value in the array is computed, and pushed as a single array. Otherwise, the string value of a is pushed                                                                                                                                                                                                                                                                                                                                                  |

Supplementary Instructions, 0 defined

|  ID  |  Main Alias  |  All Aliases  |  Explanation  |  Specification  |
| ---- | ------------ | ------------- | ------------- | --------------- |

Standard Constants, 0 defined

|  ID  |  Main Alias  |  All Aliases  |  Value  |  Explanation  |  Specification  |
| ---- | ------------ | ------------- | ------- | ------------- | --------------- |

Auxiliary Instructions, 0 defined

|  ID  |  Main Alias  |  All Aliases  |  Explanation  |  Specification  |
| ---- | ------------ | ------------- | ------------- | --------------- |

Auxiliary Constants, 0 defined

|  ID  |  Value  |
| ---- | ------- |
